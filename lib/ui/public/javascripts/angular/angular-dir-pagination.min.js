(function(){var b="angularUtils.directives.dirPagination";var d="__default";var c;try{c=angular.module(b)}catch(f){c=angular.module(b,[])}c.directive("dirPaginate",["$compile","$parse","paginationService",g]).directive("dirPaginateNoCompile",h).directive("dirPaginationControls",["paginationService","paginationTemplate",a]).filter("itemsPerPage",["paginationService",k]).service("paginationService",i).provider("paginationTemplate",e).run(["$templateCache",j]);function g(r,n,s){return{terminal:true,multiElement:true,compile:q};function q(z,y){var B=y.dirPaginate;var A=B.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);var v=/\|\s*itemsPerPage\s*:\s*(.*\(\s*\w*\)|([^\)]*?(?=\s+as\s+))|[^\)]*)/;if(A[2].match(v)===null){throw"pagination directive: the 'itemsPerPage' filter must be set."}var x=A[2].replace(v,"");var w=n(x);m(z);var D=y.paginationId||d;s.registerInstance(D);return function C(I,G,F){var E=n(F.paginationId)(I)||F.paginationId||d;s.registerInstance(E);var H=p(B,E);u(G,F,H);o(G);var K=r(G);var J=t(I,F,E);s.setCurrentPageParser(E,J,I);if(typeof F.totalItems!=="undefined"){s.setAsyncModeTrue(E);I.$watch(function(){return n(F.totalItems)(I)},function(L){if(0<=L){s.setCollectionLength(E,L)}})}else{I.$watchCollection(function(){return w(I)},function(L){if(L){s.setCollectionLength(E,L.length)}})}K(I)}}function p(y,v){var w,x=!!y.match(/(\|\s*itemsPerPage\s*:[^|]*:[^|]*)/);if(v!==d&&!x){w=y.replace(/(\|\s*itemsPerPage\s*:[^|]*)/,"$1 : '"+v+"'")}else{w=y}return w}function u(w,v,x){if(w[0].hasAttribute("dir-paginate-start")||w[0].hasAttribute("data-dir-paginate-start")){v.$set("ngRepeatStart",x);w.eq(w.length-1).attr("ng-repeat-end",true)}else{v.$set("ngRepeat",x)}}function m(v){angular.forEach(v,function(w){if(w.nodeType===1){angular.element(w).attr("dir-paginate-no-compile",true)}})}function o(v){angular.forEach(v,function(w){if(w.nodeType===1){angular.element(w).removeAttr("dir-paginate-no-compile")}});v.eq(0).removeAttr("dir-paginate-start").removeAttr("dir-paginate").removeAttr("data-dir-paginate-start").removeAttr("data-dir-paginate");v.eq(v.length-1).removeAttr("dir-paginate-end").removeAttr("data-dir-paginate-end")}function t(x,w,v){var z;if(w.currentPage){z=n(w.currentPage)}else{var y=(v+"__currentPage").replace(/\W/g,"_");x[y]=1;z=n(y)}return z}}function h(){return{priority:5000,terminal:true}}function j(m){m.put("angularUtils.directives.dirPagination.template",'<ul class="pagination" ng-if="1 < pages.length || !autoHide"><li ng-if="boundaryLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(1)">&laquo;</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == 1 }"><a href="" ng-click="setCurrent(pagination.current - 1)">&lsaquo;</a></li><li ng-repeat="pageNumber in pages track by tracker(pageNumber, $index)" ng-class="{ active : pagination.current == pageNumber, disabled : pageNumber == \'...\' || ( ! autoHide && pages.length === 1 ) }"><a href="" ng-click="setCurrent(pageNumber)">{{ pageNumber }}</a></li><li ng-if="directionLinks" ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.current + 1)">&rsaquo;</a></li><li ng-if="boundaryLinks"  ng-class="{ disabled : pagination.current == pagination.last }"><a href="" ng-click="setCurrent(pagination.last)">&raquo;</a></li></ul>')}function a(r,n){var q=/^\d+$/;return{restrict:"AE",templateUrl:function(t,s){return s.templateUrl||n.getPath()},scope:{maxSize:"=?",onPageChange:"&?",paginationId:"=?",autoHide:"=?"},link:p};function p(B,w,z){var A=z.paginationId||d;var C=B.paginationId||z.paginationId||d;if(!r.isRegistered(C)&&!r.isRegistered(A)){var u=(C!==d)?" (id: "+C+") ":" ";console.warn("Pagination directive: the pagination controls"+u+"cannot be used without the corresponding pagination directive, which was not found at link time.")}if(!B.maxSize){B.maxSize=9}B.autoHide=B.autoHide===undefined?true:B.autoHide;B.directionLinks=angular.isDefined(z.directionLinks)?B.$parent.$eval(z.directionLinks):true;B.boundaryLinks=angular.isDefined(z.boundaryLinks)?B.$parent.$eval(z.boundaryLinks):false;var t=Math.max(B.maxSize,5);B.pages=[];B.pagination={last:1,current:1};B.range={lower:1,upper:1,total:1};B.$watch(function(){if(r.isRegistered(C)){return(r.getCollectionLength(C)+1)*r.getItemsPerPage(C)}},function(D){if(0<D){s()}});B.$watch(function(){if(r.isRegistered(C)){return(r.getItemsPerPage(C))}},function(E,D){if(E!=D&&typeof D!=="undefined"){y(B.pagination.current)}});B.$watch(function(){if(r.isRegistered(C)){return r.getCurrentPage(C)}},function(E,D){if(E!=D){y(E)}});B.setCurrent=function(D){if(r.isRegistered(C)&&v(D)){D=parseInt(D,10);r.setCurrentPage(C,D)}};B.tracker=function(E,D){return E+"_"+D};function y(D){if(r.isRegistered(C)&&v(D)){B.pages=o(D,r.getCollectionLength(C),r.getItemsPerPage(C),t);B.pagination.current=D;x();if(B.onPageChange){B.onPageChange({newPageNumber:D})}}}function s(){if(r.isRegistered(C)){var D=parseInt(r.getCurrentPage(C))||1;B.pages=o(D,r.getCollectionLength(C),r.getItemsPerPage(C),t);B.pagination.current=D;B.pagination.last=B.pages[B.pages.length-1];if(B.pagination.last<B.pagination.current){B.setCurrent(B.pagination.last)}else{x()}}}function x(){if(r.isRegistered(C)){var E=r.getCurrentPage(C),D=r.getItemsPerPage(C),F=r.getCollectionLength(C);B.range.lower=(E-1)*D+1;B.range.upper=Math.min(E*D,F);B.range.total=F}}function v(D){return(q.test(D)&&(0<D&&D<=B.pagination.last))}}function o(A,E,t,u){var v=[];var B=Math.ceil(E/t);var s=Math.ceil(u/2);var z;if(A<=s){z="start"}else{if(B-s<A){z="end"}else{z="middle"}}var D=u<B;var y=1;while(y<=B&&y<=u){var C=m(y,A,u,B);var x=(y===2&&(z==="middle"||z==="end"));var w=(y===u-1&&(z==="middle"||z==="start"));if(D&&(x||w)){v.push("...")}else{v.push(C)}y++}return v}function m(t,u,w,v){var s=Math.ceil(w/2);if(t===w){return v}else{if(t===1){return t}else{if(w<v){if(v-s<u){return v-w+t}else{if(s<u){return u-s+t}else{return t}}}else{return t}}}}}function k(m){return function(r,p,o){if(typeof(o)==="undefined"){o=d}if(!m.isRegistered(o)){throw"pagination directive: the itemsPerPage id argument (id: "+o+") does not match a registered pagination-id."}var n;var s;if(angular.isObject(r)){p=parseInt(p)||9999999999;if(m.isAsyncMode(o)){s=0}else{s=(m.getCurrentPage(o)-1)*p}n=s+p;m.setItemsPerPage(o,p);if(r instanceof Array){return r.slice(s,n)}else{var q={};angular.forEach(l(r).slice(s,n),function(t){q[t]=r[t]});return q}}else{return r}}}function l(n){if(!Object.keys){var o=[];for(var m in n){if(n.hasOwnProperty(m)){o.push(m)}}return o}else{return Object.keys(n)}}function i(){var m={};var n;this.registerInstance=function(o){if(typeof m[o]==="undefined"){m[o]={asyncMode:false};n=o}};this.isRegistered=function(o){return(typeof m[o]!=="undefined")};this.getLastInstanceId=function(){return n};this.setCurrentPageParser=function(p,q,o){m[p].currentPageParser=q;m[p].context=o};this.setCurrentPage=function(o,p){m[o].currentPageParser.assign(m[o].context,p)};this.getCurrentPage=function(o){var p=m[o].currentPageParser;return p?p(m[o].context):1};this.setItemsPerPage=function(o,p){m[o].itemsPerPage=p};this.getItemsPerPage=function(o){return m[o].itemsPerPage};this.setCollectionLength=function(o,p){m[o].collectionLength=p};this.getCollectionLength=function(o){return m[o].collectionLength};this.setAsyncModeTrue=function(o){m[o].asyncMode=true};this.isAsyncMode=function(o){return m[o].asyncMode}}function e(){var m="angularUtils.directives.dirPagination.template";this.setPath=function(n){m=n};this.$get=function(){return{getPath:function(){return m}}}}})();