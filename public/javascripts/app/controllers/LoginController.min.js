vulpe.ng.app.controller("LoginController",["$rootScope","$scope","VulpeJS",function(e,r,s){var o=(new s).init(r);$("#custom").html(""),r.user={username:"",password:"",rememberMe:!1},o.$authenticator.logoutSuccessfully(),o.$store.get("remember")?r.user=o.$store.get("remember"):o.$cookies.remember&&(r.user=JSON.parse(o.$cookies.remember.substring(2)),r.user.rememberMe=!0),o.login=function(){r.form.$valid?(o.message.clean(),r.user.rememberMe?o.$store.set("remember",r.user):o.$store.remove("remember"),o.http.post({url:vulpe.ng.rootContext+"/login",data:r.user,callback:{success:function(e){o.message.success("Successfully logged in!"),o.$authenticator.loginSuccessfully(e.user),o.redirect(e.redirectTo)},error:function(e,r){o.message.error(403===r?"Informed credential is invalid.":"An error occurred in the execution.")}}})):$(r.user.username?"#login-password":"#login-username").focus()},o.forgotPassword=function(){r.user.username&&r.user.username.length>0?o.redirect(vulpe.ng.rootContext+"/forgot-password/"+r.user.username):(o.message.error("Please enter your e-mail password reset."),$("#loginUsername").focus())},o.on.ready(function(){$("#login").addClass("active")})}]);