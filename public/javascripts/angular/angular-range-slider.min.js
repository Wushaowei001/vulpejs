!function(){"use strict";var e=1===angular.version.major&&0===angular.version.minor;angular.module("ui-rangeSlider",[]).directive("rangeSlider",["$document","$filter","$log",function(n,a,i){var l=".rangeSlider",t={disabled:!1,orientation:"horizontal",step:0,decimalPlaces:0,showValues:!0,preventEqualMinMax:!1,attachHandleValues:!1},o=window.navigator.pointerEnabled?{start:"pointerdown",move:"pointermove",end:"pointerup",over:"pointerdown",out:"mouseout"}:window.navigator.msPointerEnabled?{start:"MSPointerDown",move:"MSPointerMove",end:"MSPointerUp",over:"MSPointerDown",out:"mouseout"}:{start:"mousedown touchstart",move:"mousemove touchmove",end:"mouseup touchend",over:"mouseover touchstart",out:"mouseout"},s=o.start+l,r=o.move+l,d=o.end+l,u=o.over+l,m=o.out+l,c=function(e){try{return[e.clientX||e.originalEvent.clientX||e.originalEvent.touches[0].clientX,e.clientY||e.originalEvent.clientY||e.originalEvent.touches[0].clientY]}catch(n){return["x","y"]}},f=function(e){return 0>e?0:e>100?100:e},g=function(e){return!isNaN(parseFloat(e))&&isFinite(e)},v={disabled:"=?",min:"=",max:"=",modelMin:"=?",modelMax:"=?",onHandleDown:"&",onHandleUp:"&",orientation:"@",step:"@",decimalPlaces:"@",filter:"@",filterOptions:"@",showValues:"@",pinHandle:"@",preventEqualMinMax:"@",attachHandleValues:"@"};return e&&(v.disabled="=",v.modelMin="=",v.modelMax="="),{restrict:"A",replace:!0,template:['<div class="ngrs-range-slider">','<div class="ngrs-runner">','<div class="ngrs-handle ngrs-handle-min"><i></i></div>','<div class="ngrs-handle ngrs-handle-max"><i></i></div>','<div class="ngrs-join"></div>',"</div>",'<div class="ngrs-value-runner">','<div class="ngrs-value ngrs-value-min" ng-show="showValues"><div>{{filteredModelMin}}</div></div>','<div class="ngrs-value ngrs-value-max" ng-show="showValues"><div>{{filteredModelMax}}</div></div>',"</div>","</div>"].join(""),scope:v,link:function(e,o,v){function M(e){"min"===e?(angular.element(D[0]).css("display","none"),angular.element(D[1]).css("display","block")):"max"===e?(angular.element(D[0]).css("display","block"),angular.element(D[1]).css("display","none")):(angular.element(D[0]).css("display","block"),angular.element(D[1]).css("display","block"))}function p(e){e?$.addClass("ngrs-disabled"):$.removeClass("ngrs-disabled")}function h(){e.min>e.max&&w("min must be less than or equal to max"),angular.isDefined(e.min)&&angular.isDefined(e.max)&&(g(e.min)||w("min must be a number"),g(e.max)||w("max must be a number"),q=e.max-e.min,P=[e.min,e.max],x())}function x(){if(e.modelMin>e.modelMax&&(H("modelMin must be less than or equal to modelMax"),e.modelMin=e.modelMax),(angular.isDefined(e.modelMin)||"min"===e.pinHandle)&&(angular.isDefined(e.modelMax)||"max"===e.pinHandle)){g(e.modelMin)||("min"!==e.pinHandle&&H("modelMin must be a number"),e.modelMin=e.min),g(e.modelMax)||("max"!==e.pinHandle&&H("modelMax must be a number"),e.modelMax=e.max);var n,i,l=f((e.modelMin-e.min)/q*100),t=f((e.modelMax-e.min)/q*100);if(e.attachHandleValues&&(n=l,i=t),e.modelMin=Math.max(e.min,e.modelMin),e.modelMax=Math.min(e.max,e.modelMax),e.filter&&e.filterOptions)e.filteredModelMin=a(e.filter)(e.modelMin,e.filterOptions),e.filteredModelMax=a(e.filter)(e.modelMax,e.filterOptions);else if(e.filter){var o,s,r=e.filter.split(":"),d=e.filter.split(":")[0],u=r.slice().slice(1);u=u.map(function(e){return g(e)?+e:'"'==e[0]&&'"'==e[e.length-1]||"'"==e[0]&&"'"==e[e.length-1]?e.slice(1,-1):void 0}),o=u.slice(),s=u.slice(),o.unshift(e.modelMin),s.unshift(e.modelMax),e.filteredModelMin=a(d).apply(null,o),e.filteredModelMax=a(d).apply(null,s)}else e.filteredModelMin=e.modelMin,e.filteredModelMax=e.modelMax;e.min===e.max&&e.modelMin==e.modelMax?(angular.element(D[0]).css(F,"0%"),angular.element(D[1]).css(F,"100%"),e.attachHandleValues&&(angular.element(V[0]).css(F,"0%"),angular.element(V[1]).css(F,"100%")),angular.element(y).css(F,"0%").css(C,"0%")):(angular.element(D[0]).css(F,l+"%"),angular.element(D[1]).css(F,t+"%"),e.attachHandleValues&&(angular.element(V[0]).css(F,n+"%"),angular.element(V[1]).css(F,i+"%"),angular.element(V[1]).css(C,"auto")),angular.element(y).css(F,l+"%").css(C,100-t+"%"),l>95&&angular.element(D[0]).css("z-index",3))}}function b(a){var i=D[a];i.bind(s+"X",function(t){var o=(0===a?"ngrs-handle-min":"ngrs-handle-max")+"-down",s=(0===a?e.modelMin:e.modelMax)-e.min,u=s/q*100,m=c(t),g=m,v=!1;angular.isFunction(e.onHandleDown)&&e.onHandleDown(),angular.element("body").bind("selectstart"+l,function(){return!1}),e.disabled||(S=!0,i.addClass("ngrs-down"),$.addClass("ngrs-focus "+o),angular.element("body").addClass("ngrs-touching"),n.bind(r,function(n){n.preventDefault();var l,t,o=c(n),s=e.step/q*100,r=((0===a?e.modelMax:e.modelMin)-e.min)/q*100;"x"!==o[0]&&(o[0]-=m[0],o[1]-=m[1],l=[g[0]!==o[0],g[1]!==o[1]],t=u+100*o[E]/(E?$.height():$.width()),t=f(t),e.preventEqualMinMax&&(0===s&&(s=1/q*100),0===a?r-=s:1===a&&(r+=s)),0===a?t=t>r?r:t:1===a&&(t=r>t?r:t),e.step>0&&100>t&&t>0&&(t=Math.round(t/s)*s),t>95&&0===a?i.css("z-index",3):i.css("z-index",""),l[E]&&t!=v&&(0===a?e.modelMin=parseFloat(parseFloat(t*q/100+e.min).toFixed(e.decimalPlaces)):1===a&&(e.modelMax=parseFloat(parseFloat(t*q/100+e.min).toFixed(e.decimalPlaces))),e.$apply(),v=t),g=o)}).bind(d,function(){angular.isFunction(e.onHandleUp)&&e.onHandleUp(),n.off(r),n.off(d),angular.element("body").removeClass("ngrs-touching"),S=!1,i.removeClass("ngrs-down"),i.removeClass("ngrs-over"),$.removeClass("ngrs-focus "+o)}))}).on(u,function(){i.addClass("ngrs-over")}).on(m,function(){S||i.removeClass("ngrs-over")})}function w(n){throw e.disabled=!0,new Error("RangeSlider: "+n)}function H(e){i.warn(e)}var $=angular.element(o),D=[o.find(".ngrs-handle-min"),o.find(".ngrs-handle-max")],V=[o.find(".ngrs-value-min"),o.find(".ngrs-value-max")],y=o.find(".ngrs-join"),F="left",C="right",E=0,P=[0,0],q=0,S=!1;e.filteredModelMin=e.modelMin,e.filteredModelMax=e.modelMax,v.$observe("disabled",function(n){angular.isDefined(n)||(e.disabled=t.disabled),e.$watch("disabled",p)}),v.$observe("orientation",function(n){angular.isDefined(n)||(e.orientation=t.orientation);for(var a,i=e.orientation.split(" "),l=0,o=i.length;o>l;l++)i[l]="ngrs-"+i[l];a=i.join(" "),$.addClass(a),("vertical"===e.orientation||"vertical left"===e.orientation||"vertical right"===e.orientation)&&(F="top",C="bottom",E=1)}),v.$observe("step",function(n){angular.isDefined(n)||(e.step=t.step)}),v.$observe("decimalPlaces",function(n){angular.isDefined(n)||(e.decimalPlaces=t.decimalPlaces)}),v.$observe("showValues",function(n){e.showValues=angular.isDefined(n)?"false"===n?!1:!0:t.showValues}),v.$observe("pinHandle",function(n){e.pinHandle=angular.isDefined(n)&&("min"===n||"max"===n)?n:null,e.$watch("pinHandle",M)}),v.$observe("preventEqualMinMax",function(n){e.preventEqualMinMax=angular.isDefined(n)?"false"===n?!1:!0:t.preventEqualMinMax}),v.$observe("attachHandleValues",function(n){angular.isDefined(n)?"true"===n||""===n?(e.attachHandleValues=!0,o.find(".ngrs-value-runner").addClass("ngrs-attached-handles")):e.attachHandleValues=!1:e.attachHandleValues=t.attachHandleValues}),e.$watch("min",h),e.$watch("max",h),e.$watch("modelMin",x),e.$watch("modelMax",x),e.$on("$destroy",function(){$.off(l),angular.element("body").off(l),n.off(l);for(var e=0,a=D.length;a>e;e++)D[e].off(l),D[e].off(l+"X")}),$.bind("selectstart"+l,function(){return!1}).bind("click",function(e){e.stopPropagation()}),b(0),b(1)}}}]),window.requestAnimFrame=function(){return window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||function(e){window.setTimeout(e,1e3/60)}}()}();