angular.module("dialogs.controllers",["ui.bootstrap.modal"]).controller("errorDialogCtrl",["$scope","$modalInstance","msg","i18n",function(a,b,c,e){a.title=e.__("Error");a.closeLabel=e.__("Close");a.msg=angular.isDefined(c)?c:e.__("An unknown error has occurred.");a.close=function(){b.close()}}]).controller("waitDialogCtrl",["$scope","$modalInstance","$timeout","msg","progress",function(a,b,c,e,d,f){a.title=f.__("Please Wait");a.completeLabel=f.__("Complete");a.msg=angular.isDefined(e)?e:f.__("Waiting on operation to complete.");
a.progress=angular.isDefined(d)?d:100;a.$on("dialogs.wait.complete",function(){c(function(){b.close()})});a.$on("dialogs.wait.message",function(b,c){a.msg=angular.isDefined(c.msg)?c.msg:a.msg});a.$on("dialogs.wait.progress",function(c,b){a.msg=angular.isDefined(b.msg)?b.msg:a.msg;a.progress=angular.isDefined(b.progress)?b.progress:a.progress});a.getProgress=function(){return{width:a.progress+"%"}}}]).controller("notifyDialogCtrl",["$scope","$modalInstance","header","msg","i18n",function(a,b,c,e,d){a.okLabel=
d.__("OK");a.header=angular.isDefined(c)?c:d.__("Notification");a.msg=angular.isDefined(e)?e:d.__("Unknown application notification.");a.close=function(){b.close()}}]).controller("confirmDialogCtrl",["$scope","$modalInstance","header","msg","i18n",function(a,b,c,e,d){a.yesLabel=d.__("Yes");a.noLabel=d.__("No");a.header=angular.isDefined(c)?c:d.__("Confirmation");a.msg=angular.isDefined(e)?e:d.__("Confirmation required.");a.no=function(){b.dismiss("no")};a.yes=function(){b.close("yes")}}]);
angular.module("dialogs.services",["ui.bootstrap.modal","dialogs.controllers"]).factory("$dialogs",["$modal",function(a){return{error:function(b){return a.open({templateUrl:"/dialogs/error.html",controller:"errorDialogCtrl",resolve:{msg:function(){return angular.copy(b)}}})},wait:function(b,c){return a.open({templateUrl:"/dialogs/wait.html",controller:"waitDialogCtrl",resolve:{msg:function(){return angular.copy(b)},progress:function(){return angular.copy(c)}}})},notify:function(b,c){return a.open({templateUrl:"/dialogs/notify.html",
controller:"notifyDialogCtrl",resolve:{header:function(){return angular.copy(b)},msg:function(){return angular.copy(c)}}})},confirm:function(b,c){return a.open({templateUrl:"/dialogs/confirm.html",controller:"confirmDialogCtrl",resolve:{header:function(){return angular.copy(b)},msg:function(){return angular.copy(c)}}})},create:function(b,c,e,d,f){var g=angular.isDefined(d.key)?d.key:!0;d=angular.isDefined(d.back)?d.back:!0;return a.open({templateUrl:b,controller:c,keyboard:g,backdrop:d,size:f||"",
resolve:{data:function(){return angular.copy(e)}}})}}}]);
angular.module("dialogs",["dialogs.services","ngSanitize"]).run(["$templateCache",function(a){a.put("/dialogs/error.html",'<div class="modal-header dialog-header-error"><button type="button" class="close" ng-click="close()">&times;</button><h4 class="modal-title text-danger"><span class="glyphicon glyphicon-warning-sign"></span> {{title}}</h4></div><div class="modal-body text-danger" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">{{closeLabel}}</button></div>');a.put("/dialogs/wait.html",
'<div class="modal-header dialog-header-wait"><h4 class="modal-title"><span class="glyphicon glyphicon-time"></span> {{title}}</h4></div><div class="modal-body"><p ng-bind-html="msg"></p><div class="progress progress-striped active"><div class="progress-bar progress-bar-info" ng-style="getProgress()"></div><span class="sr-only">{{progress}}% {{completeLabel}}</span></div></div>');a.put("/dialogs/notify.html",'<div class="modal-header dialog-header-notify"><button type="button" class="close" ng-click="close()" class="pull-right">&times;</button><h4 class="modal-title text-info"><span class="glyphicon glyphicon-info-sign"></span> {{header}}</h4></div><div class="modal-body text-info" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-primary" ng-click="close()">{{okLabel}}</button></div>');
a.put("/dialogs/confirm.html",'<div class="modal-header dialog-header-confirm"><button type="button" class="close" ng-click="no()">&times;</button><h4 class="modal-title"><span class="glyphicon glyphicon-check"></span> {{header}}</h4></div><div class="modal-body" ng-bind-html="msg"></div><div class="modal-footer"><button type="button" class="btn btn-default" ng-click="yes()">{{yesLabel}}</button><button type="button" class="btn btn-primary" ng-click="no()">{{noLabel}}</button></div>')}]);
